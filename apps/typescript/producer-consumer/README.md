

# Producer-Consumer Refactoring Exercise

The code is a simple producer-consumer example. The goal is to improve the design by following best practices.

## Prompt Ladder for Copilot Chat

Copy and paste each prompt into Copilot Chat, one at a time, to guide your refactoring process:

**Step 1: Understand the Code**
> Explain what the code in `src/index.ts` does. Summarize the producer-consumer logic and identify the main components.

**Step 2: Identify Design Issues**
> Review the code in `src/index.ts` and list any design issues, code smells, or anti-patterns you notice. Focus on readability, maintainability, and performance.

**Step 3: Best Practices & Patterns**
> Suggest best practices and design patterns that could improve the producer-consumer implementation in `src/index.ts`. Explain how these would help.

**Step 4: Refactoring Suggestions**
> Propose specific refactoring steps for `src/index.ts` to improve readability, maintainability, and performance. Include any changes needed for thread safety and exception handling.

**Step 5: Apply Refactoring**
> Show me the refactored code for `src/index.ts` based on your previous suggestions. Make sure it follows best practices and is thread-safe.

**Step 6: Testing**
> Review the tests in `tests/index.test.ts`. Suggest improvements or additional test cases to ensure the refactored code is well covered and robust.

**Step 7: Verification**
> How can I verify that the refactored code works as expected? List the steps to build and run the app, and explain how to interpret the results.

---

**To run the app:**

```bash
npx tsc
```



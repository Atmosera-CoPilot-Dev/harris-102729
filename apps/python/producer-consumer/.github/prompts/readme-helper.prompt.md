---
mode: 'agent'
description: 'Create or enhance README.md (create if missing, otherwise perform a structured improvement pass)'
---

## Role

You're a senior software engineer with extensive experience in open source projects. You create appealing, informative, and easy-to-read README files.

## High-Level Task

Perform a conditional README operation:

1. If `README.md` does NOT exist at the repository root: generate a new comprehensive README following the guidelines below.
2. If `README.md` already exists: enhance it (do NOT overwrite wholesale). Preserve unique/manual content, add missing sections, refine wording, and update stale info. Provide only the updated final README.

## Decision Flow

1. Detect presence of root `README.md`.
2. If absent: proceed with Full Creation.
3. If present: parse existing sections, extract headings, badges, custom notes, and links.
4. Determine gaps vs Required Sections list.
5. Augment: insert missing sections; improve existing ones where quality/clarity can be raised without removing original intent.
6. Preserve: author-specific paragraphs, uncommon badges, custom diagrams/code blocks unless clearly obsolete or duplicated.
7. Output the merged, improved README.

## Required Sections (Create or Ensure)

- Project Title & Summary (succinct value proposition)
- Features / Why it's useful
- Quick Start (installation + minimal usage example)
- Detailed Setup (environment / prerequisites)
- Usage Examples (2–3 concise scenarios)
- Configuration (env vars, settings) if applicable
- Testing instructions for Python, TypeScript, and C# stacks
- Support & Help (where to look: `apps/python/docs`, `specialized-topics/`, issues)
- Contributing (link to CONTRIBUTING guideline file if/when added; placeholder if missing)
- Maintainers (list or placeholder)
- License reference (e.g., “See LICENSE”) — do not inline license text
- Acknowledgments / Credits (optional if present)

## Enhancement Rules (Existing README)

- Maintain existing heading hierarchy; only adjust levels if malformed.
- Retain original badges; add new ones (build, test, coverage) if relevant and absent. Use placeholder markdown if pipeline not yet defined.
- Improve phrasing for clarity and concision; avoid changing project intent.
- Consolidate duplicate sections (e.g., multiple Getting Started blocks).
- Update outdated dependency or version references if determinable from repo files (`package.json`, `.csproj`, `requirements.txt`).
- Insert missing sections in logical order; prefer existing style.
- Preserve custom narrative, architectural diagrams, and domain-specific notes.
- Remove obviously empty stub headings only after replacing them with meaningful content.

## Preservation Rules

Treat as "must keep" unless clearly outdated:
1. Non-standard badges (e.g., community, coverage artwork)
2. Custom ASCII or diagram blocks
3. Extended usage examples referencing real domain entities
4. Maintainer lists or attribution lines

## Update Mechanics

1. Collect existing headings (H1-H3), badges, link references.
2. Score each required section: present / partial / missing.
3. For partial: merge improvements inline; for missing: append in correct location.
4. Ensure internal links use relative paths (e.g., `apps/python/docs/specs.md`).
5. Ensure table of contents can be auto-generated by GitHub (proper heading levels, no HTML wrappers).
6. Keep total file size < 500 KiB.

## Creation Guidelines (When README is Absent)

Produce a clean, professional README with:
1. Concise title line
2. Intro paragraph (what + why)
3. Feature bullets (5–8)
4. “Tech Stack” section summarizing Python, TypeScript, C# components
5. “Monorepo Layout” referencing key folders (link relative paths)
6. Install & Setup: per language (Python `requirements.txt`, Node `npm install`, .NET `dotnet restore`)
7. Unified Quick Start showing one simple action per stack
8. Testing commands per stack
9. Contribution + Support references
10. License reference

## Badges (Optional / Add When Creating)

Include placeholder badges if actual CI badges unavailable:

```
Build Status: pending
Tests: configured
License: TBD
```

Replace with real pipeline badge URLs once known.

## Style & Formatting

- Use GitHub Flavored Markdown.
- Keep paragraphs short; prefer bullets for scan-ability.
- Wrap filenames and commands in backticks.
- Use relative links for repo files & docs.
- No embedded license or exhaustive API docs—link out instead.
- Avoid speculative sections (only document what exists or is planned explicitly in code).

## Output Requirements

- Return ONLY the final `README.md` content (no commentary about steps).
- Do not include diff output; produce the finished state.
- Ensure headings start with a single H1 title.
- Validate internal relative links correspond to actual paths.

## What NOT to Include

Exclude:
- Verbose API surface details (link to future docs)
- Long troubleshooting lists
- Full license text
- Extensive contributing guidelines (link instead)
- Marketing fluff or repeated slogans

## Quality Checklist (Self-Verify Before Output)

- [ ] All required sections present
- [ ] Heading structure coherent (H1 then H2/H3)
- [ ] Relative links validated
- [ ] Badges present or intentionally omitted
- [ ] File size reasonable
- [ ] No TODO placeholders left (unless explicitly intentional and labeled)

Proceed with the conditional logic and output the improved or newly created README accordingly.

## Guidelines

### Content and Structure

- Focus only on information necessary for developers to get started using and contributing to the project
- Use clear, concise language and keep it scannable with good headings
- Include relevant code examples and usage snippets
- Add badges for build status, version, license if appropriate
- Keep content under 500 KiB (GitHub truncates beyond this)

### Technical Requirements

- Use GitHub Flavored Markdown
- Use relative links (e.g., `docs/CONTRIBUTING.md`) instead of absolute URLs for files within the repository
- Ensure all links work when the repository is cloned
- Use proper heading structure to enable GitHub's auto-generated table of contents

### What NOT to include

Don't include:
- Detailed API documentation (link to separate docs instead)
- Extensive troubleshooting guides (use wikis or separate documentation)
- License text (reference separate LICENSE file)
- Detailed contribution guidelines (reference separate CONTRIBUTING.md file)

Analyze the project structure, dependencies, and code to make the README accurate, helpful, and focused on getting users productive quickly.